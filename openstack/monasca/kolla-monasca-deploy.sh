/bin/bash

yellow=`tput setaf 3`
reset=`tput sgr0`

SECONDS=0
echo "${yellow}======================================================================================================================================================================"
echo "==============================================================================================================================================================================="
echo "                                                                  kolla-build -t source monasca"
echo "==============================================================================================================================================================================="
echo "=======================================================================================================================================================================${reset}"
kolla-build -t source monasca
echo "${yellow}======================================================================================================================================================================"
echo "                                                                         $((SECONDS/60)) "
echo "=======================================================================================================================================================================${reset}"
one=$((SECONDS/60))

SECONDS=0
echo "${yellow}======================================================================================================================================================================"
echo "==============================================================================================================================================================================="
echo "                                                     kolla-build kafka zookeeper storm elasticsearch logstash kibana"
echo "==============================================================================================================================================================================="
echo "=======================================================================================================================================================================${reset}"
kolla-build kafka zookeeper storm elasticsearch logstash kibana
echo "${yellow}======================================================================================================================================================================"
echo "                                                                         $((SECONDS/60)) "
echo "=======================================================================================================================================================================${reset}"
two=$((SECONDS/60))

SECONDS=0
echo "${yellow}======================================================================================================================================================================"
echo "==============================================================================================================================================================================="
echo "                                       kolla-build cron chrony fluentd mariadb kolla-toolbox keystone memcached keepalived haproxy"
echo "==============================================================================================================================================================================="
echo "=======================================================================================================================================================================${reset}"
kolla-build cron chrony fluentd mariadb kolla-toolbox keystone memcached keepalived haproxy
echo "${yellow}======================================================================================================================================================================"
echo "                                                                         $((SECONDS/60)) "
echo "=======================================================================================================================================================================${reset}"
three=$((SECONDS/60))
echo "${yellow}======================================================================================================================================================================"
echo "                                                                    TOTAL RUNTIME = $((one+two+three))"
echo "=======================================================================================================================================================================${reset}"
